simulation:
  base_time_unit: hours
  terminating_conditions: TIME(100)
  start_date: 2024-01-01
  random_seed: 42
  resources:
    - resource_table: Staff
      capacities:
        SRE: 1
        Tech Support: 1
        Dev: 1
        Security: 1
event_simulation:
  event_flows:
    - flow_id: flow_1_Create_Ticket
      event_table: Ticket_Task
      steps:
        - step_id: Create_Ticket
          step_type: create
          create_config:
            entity_table: Online_Ticket
            event_table: Ticket_Task
            interarrival_time:
              formula: EXPO(1)
              time_unit: hours
            max_entities: n/a
          next_steps:
            - Event_Ticket_Assignment
        - step_id: Event_Ticket_Assignment
          step_type: event
          event_config:
            duration:
              formula: NORM(30, 1)
              time_unit: minutes
            resource_requirements:
              - resource_table: Staff
                value: Tech Support
                count: 1
          next_steps:
            - ticket_complexity_decision
        - step_id: ticket_complexity_decision
          step_type: decide
          decide_config:
            decision_type: 2way-chance
            outcomes:
              - outcome_id: simple_ticket
                next_step_id: simple_ticket_processing
                conditions:
                  - if: Probability
                    is: ==
                    value: 0.7
              - outcome_id: complex_ticket
                next_step_id: complex_ticket_processing
                conditions: []
        - step_id: simple_ticket_processing
          step_type: event
          event_config:
            duration:
              formula: NORM(10, 2)
              time_unit: hours
            resource_requirements:
              - resource_table: Staff
                value: Tech Support
                count: 1
          next_steps:
            - assign_simple_complete
        - step_id: assign_simple_complete
          step_type: assign
          assign_config:
            assignments:
              - assignment_type: attribute
                attribute_name: status
                value: complete
          next_steps:
            - decide_condition
        - step_id: decide_condition
          step_type: decide
          decide_config:
            decision_type: 2way-condition
            outcomes:
              - outcome_id: outcome_1
                next_step_id: release_1
                conditions:
                  - if: Attribute
                    name: status
                    is: ==
                    value: complete
              - outcome_id: outcome_2
                next_step_id: rework
                conditions:
                  - if: Attribute
                    name: ""
                    is: ==
                    value: ""
        - step_id: release_1
          step_type: release
        - step_id: rework
          step_type: event
          event_config:
            duration:
              formula: NORM(5, 1)
              time_unit: minutes
            resource_requirements:
              - resource_table: Staff
                value: Tech Support
                count: 1
          next_steps:
            - release_3
        - step_id: release_3
          step_type: release
        - step_id: complex_ticket_processing
          step_type: event
          event_config:
            duration:
              formula: NORM(3, 5)
              time_unit: days
            resource_requirements:
              - resource_table: Staff
                value: Dev
                count: 1
              - resource_table: Staff
                value: SRE
                count: 1
          next_steps:
            - assign_complex_complete
        - step_id: assign_complex_complete
          step_type: assign
          assign_config:
            assignments:
              - assignment_type: attribute
                attribute_name: status
                value: complete
          next_steps:
            - decide_condition
    - flow_id: flow_2_Create_Phone_Call
      event_table: Call_Task
      steps:
        - step_id: Create_Phone_Call
          step_type: create
          create_config:
            entity_table: Phone_Call
            event_table: Call_Task
            interarrival_time:
              formula: EXPO(15)
              time_unit: minutes
            max_entities: n/a
          next_steps:
            - Phone_Call
        - step_id: Phone_Call
          step_type: event
          event_config:
            duration:
              formula: NORM(5, 1)
            resource_requirements:
              - resource_table: Staff
                value: Tech Support
                count: 1
          next_steps:
            - release_2
        - step_id: release_2
          step_type: release
